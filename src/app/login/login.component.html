<div class="login-container">
  <p-toast></p-toast>
  
  <div class="login-card">
    <div class="login-header">
      <h1 class="login-title">PayPro Login</h1>
      <p class="login-subtitle">Welcome back! Please sign in to your account.</p>
    </div>

    <form [formGroup]="loginForm" (ngSubmit)="onSubmit()" class="login-form">
      
      <!-- System ID Field -->
      <div class="field" [hidden]="!showSystemId">
        <label for="systemId" class="field-label">System ID *</label>
        <input 
          pInputText
          type="number"
          id="systemId"
          formControlName="systemId"
          placeholder="Enter system ID"
          class="w-full"
          [class.ng-invalid]="f['systemId'].invalid && (f['systemId'].dirty || submitted)">
        <small 
          class="p-error" 
          *ngIf="f['systemId'].invalid && (f['systemId'].dirty || submitted)">
          System ID is required and must be numeric
        </small>
      </div>

      <!-- Username Field -->
      <div class="field">
        <label for="username" class="field-label">Username *</label>
        <input 
          pInputText
          id="username"
          formControlName="username"
          placeholder="Enter your username"
          class="w-full"
          [class.ng-invalid]="f['username'].invalid && (f['username'].dirty || submitted)">
        <small 
          class="p-error" 
          *ngIf="f['username'].invalid && (f['username'].dirty || submitted)">
          Username is required
        </small>
      </div>

      <!-- Password Field -->
      <div class="field">
        <label for="password" class="field-label">Password *</label>
        <p-password
          formControlName="password"
          placeholder="Enter your password"
          [toggleMask]="true"
          [feedback]="false"
          styleClass="w-full">
        </p-password>
        <small 
          class="p-error" 
          *ngIf="f['password'].invalid && (f['password'].dirty || submitted)">
          Password is required
        </small>
      </div>

      <!-- Auto Login Checkbox -->
      <div class="field">
        <div class="flex align-items-center">
          <p-checkbox
            inputId="autoLogin"
            formControlName="autoLogin"
            [binary]="true">
          </p-checkbox>
          <label for="autoLogin" class="ml-2">Remember me for automatic login</label>
        </div>
      </div>

      <!-- Submit Button -->
      <div class="field">
        <p-button
          type="submit"
          label="Sign In"
          [loading]="loading"
          loadingIcon="pi pi-spin pi-spinner"
          styleClass="w-full"
          size="large"
          [disabled]="loading">
        </p-button>
      </div>

    </form>
  </div>
</div>
